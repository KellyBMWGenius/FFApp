<!DOCTYPE html>
<html>
<head>
    <title>API Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1a1a1a; color: white; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background: #2d5a27; }
        .error { background: #5a2727; }
        button { padding: 10px 20px; margin: 5px; background: #4f9cff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Fantasy Football App - API Tests</h1>
    
    <button onclick="testSleeperAPI()">Test Sleeper API</button>
    <button onclick="testFantasyCalcAPI()">Test FantasyCalc API</button>
    <button onclick="testBothAPIs()">Test Both APIs</button>
    
    <div id="results"></div>
    
    <script>
        async function testSleeperAPI() {
            const results = document.getElementById('results');
            results.innerHTML += '<div class="test-result">Testing Sleeper API...</div>';
            
            try {
                // Test league endpoint
                const leagueResponse = await fetch('https://api.sleeper.app/v1/league/1257448634119626752');
                const league = await leagueResponse.json();
                
                results.innerHTML += `<div class="test-result success">‚úÖ Sleeper League API: ${league.name}</div>`;
                
                // Test rosters endpoint
                const rostersResponse = await fetch('https://api.sleeper.app/v1/league/1257448634119626752/rosters');
                const rosters = await rostersResponse.json();
                
                results.innerHTML += `<div class="test-result success">‚úÖ Sleeper Rosters API: ${rosters.length} teams</div>`;
                
            } catch (error) {
                results.innerHTML += `<div class="test-result error">‚ùå Sleeper API Error: ${error.message}</div>`;
            }
        }
        
        async function testFantasyCalcAPI() {
            const results = document.getElementById('results');
            results.innerHTML += '<div class="test-result">Testing FantasyCalc API...</div>';
            
            try {
                const response = await fetch('https://api.fantasycalc.com/values/current?isDynasty=false&numQbs=2&numTeams=10&ppr=1');
                const data = await response.json();
                
                results.innerHTML += `<div class="test-result success">‚úÖ FantasyCalc API: ${data.length} player values loaded</div>`;
                
                // Show top 3 players
                const top3 = data.slice(0, 3);
                top3.forEach(player => {
                    results.innerHTML += `<div class="test-result success">üìä ${player.player.name}: ${player.value}</div>`;
                });
                
            } catch (error) {
                results.innerHTML += `<div class="test-result error">‚ùå FantasyCalc API Error: ${error.message}</div>`;
            }
        }
        
        async function testBothAPIs() {
            document.getElementById('results').innerHTML = '';
            await testSleeperAPI();
            await testFantasyCalcAPI();
        }
    </script>
</body>
</html>
